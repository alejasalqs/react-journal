{"version":3,"sources":["firebase/firebase-config.js","helpers/loadNotes.js","types/types.js","helpers/fileUpload.js","actions/notes.js","hooks/userForm.js","components/notes/NotesAppBar.js","components/notes/NoteScreen.js","components/journal/NothingSelected.js","actions/ui.js","actions/auth.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/journal/JournalScreen.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","routers/PrivateRoutes.js","routers/PublicRoutes.js","routers/AppRouter.js","reducers/uiReducer.js","reducers/notesReducer.js","store/store.js","reducers/authReducer.js","JournalApp.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","googleAuthProvider","auth","GoogleAuthProvider","loadNotes","uid","a","collection","get","notesSnap","notes","forEach","sonSnap","push","id","data","types","fileUpload","file","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","console","log","activeNote","note","type","payload","startLoadingNotes","dispatch","setNote","startSaveNote","getState","url","noteToFirestore","doc","update","catch","e","refreshNote","Swal","fire","title","deleteNote","useForm","initialState","useState","values","setValues","handleInputChange","target","name","value","reset","newFormState","NotesAppBar","useDispatch","active","useSelector","state","date","moment","Date","getTime","className","format","style","display","onChange","files","text","allowOutsideClick","onBeforeOpen","showLoading","fileURL","close","onClick","document","querySelector","click","NoteScreen","formValues","activeId","useRef","useEffect","current","placeholder","autoComplete","src","alt","delete","startDelete","NothingSelected","setErrorAction","err","finishLoadingAction","login","displayName","logout","JournalEntry","noteDate","backgroundSize","backgroundImage","JournalEntries","map","Sidebar","signOut","newNote","add","docRef","JournalScreen","LoginScreen","loading","ui","email","password","onSubmit","preventDefault","trim","length","validator","isEmail","signInWithEmailAndPassword","message","userCredential","user","startLoginEmailPassword","disabled","signInWithPopup","to","RegisterScreen","msgError","password2","isFormValid","createUserWithEmailAndPassword","updateProfile","startRegisterWithEmailPasswordName","AuthRouter","path","component","PrivateRoutes","isLoggedIn","Component","rest","localStorage","setItem","location","pathname","props","PublicRoutes","AppRouter","checking","setChecking","setIsLoggedIn","onAuthStateChanged","exact","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c3ee8d27.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAW9U4pKEXc22kzk96DVg03upodvCd8eBw\",\n  authDomain: \"react-journal-app-b58e0.firebaseapp.com\",\n  projectId: \"react-journal-app-b58e0\",\n  storageBucket: \"react-journal-app-b58e0.appspot.com\",\n  messagingSenderId: \"274360265688\",\n  appId: \"1:274360265688:web:e66467b8a970e4978fa0ad\",\n  measurementId: \"G-TKDHCKTEL2\",\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n//firebase.analytics();\n\n// referencia a la base de dato\nconst db = firebase.firestore();\n// Provider para autenticar google\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\n\nexport { db, googleAuthProvider, firebase };\n","import { db } from \"../firebase/firebase-config\";\n\nexport const loadNotes = async (uid) => {\n  const notesSnap = await db.collection(`${uid}/journal/notes/`).get();\n\n  const notes = [];\n\n  notesSnap.forEach((sonSnap) => {\n    // Se hace de esta manera por ser firebase\n    notes.push({\n      id: sonSnap.id,\n      ...sonSnap.data(),\n    });\n  });\n\n  return notes;\n};\n","export const types = {\n  login: \"[Auth] login\",\n  logout: \"[Auth] logout\",\n\n  uiSetError: \"[UI] Set Error\",\n  uiRemoveError: \"[UI] Remove Error\",\n\n  uiStartLoading: \"[UI] Start Loading\",\n  uiFinishLoading: \"[UI] Finish Loading\",\n\n  notesAddNew: \"[Notes] New Note\",\n  notesActive: \"[Notes] Set Active Note\",\n  notesLoad: \"[Notes] Loading Notes\",\n  notesUpdate: \"[Notes] Updated Note\",\n  notesFilesUrl: \"[Notes] Updated Url Note\",\n  notesDelete: \"[Notes] Delete Note\",\n  notesLogOutClean: \"[Notes] Logout Cleaning\",\n};\n","export const fileUpload = async (file) => {\n  const cloudURL = \"https://api.cloudinary.com/v1_1/asalguerodev/upload\";\n\n  const formData = new FormData();\n\n  formData.append(\"upload_preset\", \"react-journal\");\n\n  formData.append(\"file\", file);\n  try {\n    const resp = await fetch(cloudURL, {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (resp.ok) {\n      const cloudResp = await resp.json();\n      return cloudResp.secure_url;\n    } else {\n      throw await resp.json();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { loadNotes } from \"../helpers/loadNotes\";\nimport { types } from \"../types/types\";\nimport Swal from \"sweetalert2\";\nimport { fileUpload } from \"../helpers/fileUpload\";\n\nexport const startNewNote = () => {\n  // El segundo argumento es una funcion para obtener el state\n  // Funciona como el useSelector\n  // El nombre se puede cambiar\n  return async (dispatch, getState) => {\n    // obtenemos el uid del usuario\n    const { uid } = getState().auth;\n    const newNote = {\n      title: \"\",\n      body: \"\",\n      date: new Date().getTime(),\n    };\n\n    const docRef = await db.collection(`${uid}/journal/notes/`).add(newNote);\n\n    dispatch(activeNote(docRef.id, newNote));\n  };\n};\n\nexport const activeNote = (id, note) => ({\n  type: types.notesActive,\n  payload: {\n    id,\n    ...note,\n  },\n});\n\nexport const startLoadingNotes = (uid) => {\n  return async (dispatch) => {\n    const notes = await loadNotes(uid);\n    dispatch(setNote(notes));\n  };\n};\n\nexport const setNote = (notes) => ({\n  type: types.notesLoad,\n  payload: notes,\n});\n\nexport const startSaveNote = (note) => {\n  return async (dispatch, getState) => {\n    const { uid } = getState().auth;\n\n    // No se pueden guardar undefined en firestore\n    if (!note.url) {\n      delete note.url;\n    }\n    // Es necesario eliminar el id\n    const noteToFirestore = { ...note };\n    delete noteToFirestore.id;\n\n    await db\n      .doc(`${uid}/journal/notes/${note.id}`)\n      .update(noteToFirestore)\n      .catch((e) => console.log(e));\n\n    dispatch(refreshNote(note.id, note));\n    Swal.fire(\"Saved\", note.title, \"success\");\n  };\n};\n\nexport const refreshNote = (id, note) => ({\n  type: types.notesUpdate,\n  payload: {\n    id,\n    note: {\n      id,\n      ...note,\n    },\n  },\n});\n\nexport const startUploadingFiles = (file) => {\n  return async (dispatch, getState) => {\n    const { active: activeNote } = getState().notes;\n\n    Swal.fire({\n      title: \"Uploading...\",\n      text: \"Please wait...\",\n      allowOutsideClick: false,\n      onBeforeOpen: () => {\n        Swal.showLoading();\n      },\n    });\n\n    const fileURL = await fileUpload(file);\n    activeNote.url = fileURL;\n\n    console.log(fileURL);\n\n    dispatch(startSaveNote(activeNote));\n\n    Swal.close();\n  };\n};\n\nexport const startDelete = (id) => {\n  return async (dispatch, getState) => {\n    const uid = getState().auth.uid;\n    Swal.fire({\n      title: \"Deleting...\",\n      text: \"Please wait...\",\n      allowOutsideClick: false,\n      onBeforeOpen: () => {\n        Swal.showLoading();\n      },\n    });\n    await db\n      .doc(`${uid}/journal/notes/${id}`)\n      .delete()\n      .catch((e) => console.log(e));\n\n    dispatch(deleteNote(id));\n\n    Swal.close();\n  };\n};\n\nexport const deleteNote = (id) => ({\n  type: types.notesDelete,\n  payload: id,\n});\n\nexport const notesLogOut = () => ({\n  type: types.notesLogOutClean,\n});\n","import { useState } from \"react\";\n\nexport const useForm = (initialState = {}) => {\n  const [values, setValues] = useState(initialState);\n\n  const handleInputChange = (e) => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const reset = (newFormState = initialState) => {\n    setValues(newFormState);\n  };\n\n  return [values, handleInputChange, reset];\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startSaveNote, startUploadingFiles } from \"../../actions/notes\";\nimport moment from \"moment\";\n\nexport const NotesAppBar = () => {\n  const dispatch = useDispatch();\n  const { active } = useSelector((state) => state.notes);\n  const handleSave = () => {\n    dispatch(startSaveNote(active));\n  };\n  const handlePictureUpload = () => {\n    document.querySelector(\"#fileSelector\").click();\n  };\n  const handleFileChange = (e) => {\n    const files = e.target.files[0];\n    if (files) {\n      dispatch(startUploadingFiles(files));\n    }\n  };\n  const date = moment(new Date().getTime());\n  return (\n    <div className=\"notes__app-bar\">\n      <span>{date.format(\"LL\")}</span>\n      <input\n        type=\"file\"\n        name=\"file\"\n        style={{ display: \"none\" }}\n        onChange={handleFileChange}\n        id=\"fileSelector\"\n      />\n      <div>\n        <button className=\"btn\" onClick={handlePictureUpload}>\n          Picture\n        </button>\n        <button className=\"btn\" onClick={handleSave}>\n          Save\n        </button>\n      </div>\n    </div>\n  );\n};\n","import React, { useEffect, useRef } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { activeNote, startDelete } from \"../../actions/notes\";\nimport { useForm } from \"../../hooks/userForm\";\nimport { NotesAppBar } from \"./NotesAppBar\";\n\nexport const NoteScreen = () => {\n  const dispatch = useDispatch();\n  const { active: note } = useSelector((state) => state.notes);\n\n  const [formValues, handleInputChange, reset] = useForm(note);\n  const { body, title, url, id } = formValues;\n  const activeId = useRef(note.id);\n  useEffect(() => {\n    if (note.id !== activeId.current) {\n      reset(note);\n      activeId.current = note.id;\n    }\n  }, [note, reset]);\n\n  useEffect(() => {\n    dispatch(activeNote(formValues.id, { ...formValues }));\n  }, [formValues, dispatch]);\n\n  const handleDelete = () => {\n    dispatch(startDelete(id));\n  };\n  return (\n    <div className=\"notes__main-content animate__animated animate__fadeIn\">\n      <NotesAppBar />\n      <div className=\"notes__content\">\n        <input\n          type=\"text\"\n          placeholder=\"Awesome tittle\"\n          value={title}\n          onChange={handleInputChange}\n          className=\"notes_tittle-input\"\n          name=\"title\"\n          autoComplete=\"off\"\n        />\n\n        <textarea\n          placeholder=\"What happened today\"\n          value={body}\n          name=\"body\"\n          onChange={handleInputChange}\n          className=\"notes__textarea\"\n        ></textarea>\n\n        {url && (\n          <div className=\"notes__image\">\n            <img src={`${url}`} alt={`Imagen de la nota ${title}`} />\n          </div>\n        )}\n      </div>\n      <button className=\"btn btn-danger\" onClick={handleDelete}>\n        Delete\n      </button>\n    </div>\n  );\n};\n","import React from \"react\";\n\nexport const NothingSelected = () => {\n  return (\n    <div className=\"nothing__main-content\">\n      <p>\n        Select something\n        <br />\n        or create entry!\n      </p>\n      <i className=\"far fa-star fa-4x mt-5\"></i>\n    </div>\n  );\n};\n","import { types } from \"../types/types\";\n\nexport const setErrorAction = (err) => {\n  return {\n    type: types.uiSetError,\n    payload: err,\n  };\n};\n\nexport const removeErrorAction = () => ({\n  type: types.uiRemoveError,\n});\n\nexport const startLoadingAction = () => ({\n  type: types.uiStartLoading,\n});\n\nexport const finishLoadingAction = () => ({\n  type: types.uiFinishLoading,\n});\n","// LAs acciones son simples funciones\nimport { types } from \"../types/types\";\nimport { firebase, googleAuthProvider } from \"../firebase/firebase-config\";\nimport { finishLoadingAction, startLoadingAction } from \"./ui\";\nimport Swal from \"sweetalert2\";\nimport { notesLogOut } from \"./notes\";\n\nexport const startLoginEmailPassword = (email, password) => {\n  // estructura basica de una accion asincrona\n  return async (dispatch) => {\n    dispatch(startLoadingAction());\n    // Este dispatch se obtiene por parametro gracias a thunk\n    // se pueden hacer n dispatch\n    const userCredential = await firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch((e) => {\n        console.log(e);\n        dispatch(finishLoadingAction());\n        Swal.fire(\"Error Message\", e.message, \"error\");\n      });\n\n    if (userCredential) {\n      const { user } = userCredential;\n      dispatch(login(user.email, password));\n    }\n\n    dispatch(finishLoadingAction());\n  };\n};\n\nexport const startRegisterWithEmailPasswordName = (email, password, name) => {\n  return async (dispatch) => {\n    const userCredential = await firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .catch((e) => {\n        console.log(e);\n        Swal.fire(\"Error Message\", e.message, \"error\");\n      });\n\n    const { user } = userCredential;\n\n    await user.updateProfile({\n      displayName: name,\n    });\n\n    dispatch(login(email, password));\n  };\n};\n\nexport const startGoogleLogin = () => {\n  // estructura basica de una accion asincrona\n  return async (dispatch) => {\n    // Este dispatch se obtiene por parametro gracias a thunk\n    // se pueden hacer n dispatch\n    const userCredential = await firebase\n      .auth()\n      .signInWithPopup(googleAuthProvider);\n\n    // se desestrutura la respuesta\n    const { user } = userCredential;\n\n    // dispatch del login\n    dispatch(login(user.uid, user.displayName));\n  };\n};\n\nexport const login = (uid, displayName) => {\n  return {\n    type: types.login,\n    payload: {\n      uid,\n      displayName,\n    },\n  };\n};\n\nexport const startLogOut = () => {\n  return async (dispatch) => {\n    await firebase.auth().signOut();\n    dispatch(logout());\n    dispatch(notesLogOut());\n  };\n};\n\nexport const logout = () => ({\n  type: types.logout,\n});\n","import React from \"react\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\nimport { activeNote } from \"../../actions/notes\";\n\nexport const JournalEntry = ({ id, body, title, date, url }) => {\n  const dispatch = useDispatch();\n  const noteDate = moment(date);\n\n  const handleEntryClick = () => {\n    dispatch(\n      activeNote(id, {\n        title,\n        body,\n        date,\n        url,\n      })\n    );\n  };\n  return (\n    <div\n      className=\"journal__entry pointer animate__animated animate__fadeIn\"\n      onClick={handleEntryClick}\n    >\n      {url && (\n        <div\n          className=\"journal__entry-picture\"\n          style={{\n            backgroundSize: \"cover\",\n            backgroundImage: `url(${url})`,\n          }}\n        ></div>\n      )}\n\n      <div className=\"journal__entry-body\">\n        <p className=\"journal__entry-tittle\">{title}</p>\n        <p className=\"journal__entry-content\">{body}</p>\n      </div>\n\n      <div className=\"journal__entry-date-box\">\n        <span>{noteDate.format(\"dddd\")}</span>\n        <h4>{noteDate.format(\"Do\")}</h4>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { JournalEntry } from \"./JournalEntry\";\n\nexport const JournalEntries = () => {\n  const { notes } = useSelector((state) => state.notes);\n  return (\n    <div className=\"journal__entries\">\n      {notes.map((note) => (\n        <JournalEntry key={note.id} {...note} />\n      ))}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogOut } from \"../../actions/auth\";\nimport { startNewNote } from \"../../actions/notes\";\nimport { JournalEntries } from \"./JournalEntries\";\n\nexport const Sidebar = () => {\n  const dispatch = useDispatch();\n  const handleLogOut = () => {\n    dispatch(startLogOut());\n  };\n  const { name } = useSelector((state) => state.auth);\n\n  const handleAddNewEntry = () => {\n    dispatch(startNewNote());\n  };\n  return (\n    <aside className=\"journal__sidebar\">\n      <div className=\"journal__sidebar-navbar\">\n        <h3 className=\"mt-5\">\n          <i className=\"far fa-moon\"></i>\n          <span> {name}</span>\n        </h3>\n        <button className=\"btn\" onClick={handleLogOut}>\n          Log out\n        </button>\n      </div>\n\n      <div className=\"journal__new-entry\" onClick={handleAddNewEntry}>\n        <i className=\"far fa-calendar-plus fa-5x\"></i>\n        <p className=\"mt-5\">New entry</p>\n      </div>\n\n      <JournalEntries />\n    </aside>\n  );\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { NoteScreen } from \"../notes/NoteScreen\";\nimport { NothingSelected } from \"./NothingSelected\";\nimport { Sidebar } from \"./Sidebar\";\n\nexport const JournalScreen = () => {\n  const { active } = useSelector((state) => state.notes);\n  return (\n    <div className=\"journal__main-content\">\n      <Sidebar />\n      {/*Si tenemos algo seleccionado mostramos la nota activa, si no el otro componente*/}\n      <main>{active ? <NoteScreen /> : <NothingSelected />}</main>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { startGoogleLogin, startLoginEmailPassword } from \"../../actions/auth\";\nimport { useForm } from \"../../hooks/userForm\";\nimport validator from \"validator\"; //npm i validator\n\nexport const LoginScreen = () => {\n  // hook de react-redux, lo que hace es darnos acceso al dispatch de acciones\n  // nos permite hacer dispatch de accion en cualquier parte\n  const dispatch = useDispatch();\n\n  const { loading } = useSelector((state) => state.ui);\n\n  const [formValues, handleInputChange] = useForm({\n    email: \"alejo@gmail.com\",\n    password: \"123\",\n  });\n\n  const { email, password } = formValues;\n\n  const isFormValid = () => {\n    if (password.trim().length === 0) {\n      console.log(\"Password is required\");\n      //dispatch(setErrorAction(\"Name is required.\"));\n      return false;\n    }\n\n    if (!validator.isEmail(email)) {\n      console.log(\"Email is not valid\");\n      //dispatch(setErrorAction(\"Email is not valid.\"));\n      return false;\n    }\n\n    //dispatch(removeErrorAction());\n    return true;\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (isFormValid()) {\n      // mandamos dispatch del login del authReducer\n      dispatch(startLoginEmailPassword(email, password));\n    }\n  };\n\n  const handleGoogleLogin = () => {\n    dispatch(startGoogleLogin());\n  };\n  return (\n    <>\n      <h3 className=\"auth__tittle animate__animated animate__fadeIn\">Login</h3>\n      <form\n        onSubmit={handleLogin}\n        className=\"animate__animated animate__fadeIn\"\n      >\n        <input\n          className=\"auth__input\"\n          type=\"text\"\n          placeholder=\"Email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          value={email}\n          onChange={handleInputChange}\n        />\n        <input\n          className=\"auth__input\"\n          type=\"Password\"\n          placeholder=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={handleInputChange}\n        />\n        <button\n          className=\"btn btn-primary btn-block\"\n          type=\"submit\"\n          disabled={loading}\n        >\n          Login\n        </button>\n\n        <div className=\"auth__social-networks\">\n          <p>Login with social networks</p>\n        </div>\n        <div className=\"google-btn\" onClick={handleGoogleLogin}>\n          <div className=\"google-icon-wrapper\">\n            <img\n              className=\"google-icon\"\n              src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\n              alt=\"google button\"\n            />\n          </div>\n          <p className=\"btn-text\">\n            <b>Sign in with google</b>\n          </p>\n        </div>\n        <br />\n        <Link to=\"/auth/register\" className=\"link\">\n          Create account\n        </Link>\n      </form>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"../../hooks/userForm\";\nimport validator from \"validator\"; //npm i validator\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { removeErrorAction, setErrorAction } from \"../../actions/ui\";\nimport { startRegisterWithEmailPasswordName } from \"../../actions/auth\";\n\nexport const RegisterScreen = () => {\n  const dispatch = useDispatch();\n  // Este hook viene de react-redux y ayuda a obtener una parte del state\n  // Regresa todo el arbol de state que se ve en el devTools\n  const { msgError } = useSelector((state) => state.ui);\n\n  const [formValues, handleInputChange] = useForm({\n    name: \"Alejandro Salguero\",\n    email: \"alejo@hotmail.com\",\n    password: \"123456\",\n    password2: \"123456\",\n  });\n\n  const { name, email, password, password2 } = formValues;\n\n  const isFormValid = () => {\n    if (name.trim().length === 0) {\n      console.log(\"Name is required\");\n      dispatch(setErrorAction(\"Name is required.\"));\n      return false;\n    }\n\n    if (!validator.isEmail(email)) {\n      console.log(\"Email is not valid\");\n      dispatch(setErrorAction(\"Email is not valid.\"));\n      return false;\n    }\n\n    if (password !== password2 || password.length < 5) {\n      console.log(\"Password did not match or is less than 6 characters\");\n      dispatch(\n        setErrorAction(\"Password did not match or is less than 6 characters.\")\n      );\n      return false;\n    }\n\n    dispatch(removeErrorAction());\n    return true;\n  };\n\n  const handleRegister = (e) => {\n    e.preventDefault();\n    if (isFormValid()) {\n      console.log(name, email, password, password2);\n      dispatch(startRegisterWithEmailPasswordName(email, password, name));\n    }\n  };\n  return (\n    <>\n      <h3 className=\"auth__tittle animate__animated animate__fadeIn\">\n        Register\n      </h3>\n      <form\n        onSubmit={handleRegister}\n        className=\"animate__animated animate__fadeIn\"\n      >\n        {msgError && <div className=\"auth__alert-error\">{msgError}</div>}\n        <input\n          className=\"auth__input\"\n          type=\"text\"\n          placeholder=\"Name\"\n          name=\"name\"\n          autoComplete=\"off\"\n          onChange={handleInputChange}\n          value={name}\n        />\n        <input\n          className=\"auth__input\"\n          type=\"text\"\n          placeholder=\"Email\"\n          name=\"email\"\n          autoComplete=\"off\"\n          onChange={handleInputChange}\n          value={email}\n        />\n        <input\n          className=\"auth__input\"\n          type=\"password\"\n          placeholder=\"Password\"\n          name=\"password\"\n          onChange={handleInputChange}\n          value={password}\n        />\n        <input\n          className=\"auth__input\"\n          type=\"password\"\n          placeholder=\"Confirm password\"\n          name=\"password2\"\n          onChange={handleInputChange}\n          value={password2}\n        />\n        <button className=\"btn btn-primary btn-block mb-5\" type=\"submit\">\n          Register Account\n        </button>\n\n        <br />\n        <Link to=\"/auth/login\" className=\"link\">\n          Already registered?\n        </Link>\n      </form>\n    </>\n  );\n};\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\n\nexport const AuthRouter = () => {\n  return (\n    <div className=\"auth__main\">\n      <div className=\"auth__box-container\">\n        <Switch>\n          <Route path=\"/auth/login\" component={LoginScreen} />\n          <Route path=\"/auth/register\" component={RegisterScreen} />\n          <Redirect to=\"/auth/login\" />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Redirect, Route } from \"react-router\";\n\nexport const PrivateRoutes = ({\n  isLoggedIn,\n  component: Component, // Se renombre la variable component por Component\n  ...rest // Los demas elementos\n}) => {\n  // guarda el ultimo path\n  localStorage.setItem(\"pathname\", rest.location.pathname);\n  // Lo que hace aca es retornar una ruta, la cual tiene como componente el que se envia por parametros\n  // El componente que se va a mostrar se le envia por parametros las props\n  // Se verifica que el usuario este autenticado para decidir si se muestra o no\n  return (\n    <Route\n      {...rest}\n      component={(props) =>\n        isLoggedIn ? <Component {...props} /> : <Redirect to=\"auth/login\" />\n      }\n    />\n  );\n};\n\nPrivateRoutes.propTypes = {\n  isLoggedIn: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired,\n};\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Redirect, Route } from \"react-router\";\n\nexport const PublicRoutes = ({\n  isLoggedIn,\n  component: Component, // Se renombre la variable component por Component\n  ...rest // Los demas elementos\n}) => {\n  return (\n    <Route\n      {...rest}\n      component={(props) =>\n        !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n};\n\nPublicRoutes.propTypes = {\n  isLoggedIn: PropTypes.bool.isRequired,\n  component: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { JournalScreen } from \"../components/journal/JournalScreen\";\nimport { AuthRouter } from \"./AuthRouter\";\nimport { firebase } from \"../firebase/firebase-config\";\nimport { useDispatch } from \"react-redux\";\nimport { login } from \"../actions/auth\";\nimport { PrivateRoutes } from \"./PrivateRoutes\";\nimport { PublicRoutes } from \"./PublicRoutes\";\nimport { startLoadingNotes } from \"../actions/notes\";\n\nexport const AppRouter = () => {\n  const dispatch = useDispatch();\n  // esta bandera es para esperar la respuesta de firebase\n  // de que si estamos autorizados o no\n  const [checking, setChecking] = useState(true);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged(async (user) => {\n      // Si no esta autenticado regresa null\n      if (user?.uid) {\n        // hacemos dispatch del login\n        dispatch(login(user.uid, user.displayName));\n        // Si nos autenticamos cambiamos el state\n        setIsLoggedIn(true);\n        // Se cargan las notas del usuario\n        dispatch(startLoadingNotes(user.uid));\n      } else {\n        setIsLoggedIn(false);\n      }\n      // Ya tenemos la respuesta entonces lo ponemos false\n      setChecking(false);\n    });\n  }, [dispatch, setChecking, setIsLoggedIn]); // Solo se ejecuta una vez\n  // se agrega el dispatch para borrar el warning de la dependencia faltante\n\n  // Esto se retorna mientras no tengamos la respuesta de firebase\n  if (checking) {\n    return <h1>Loading...</h1>;\n  }\n\n  return (\n    <Router>\n      <>\n        <Switch>\n          <PublicRoutes\n            isLoggedIn={isLoggedIn}\n            path=\"/auth\"\n            component={AuthRouter}\n          />\n          <PrivateRoutes\n            isLoggedIn={isLoggedIn}\n            exact\n            path=\"/\"\n            component={JournalScreen}\n          />\n          <Redirect to=\"/auth/login\" />\n        </Switch>\n      </>\n    </Router>\n  );\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n  loading: false,\n  msgError: null,\n};\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.uiSetError:\n      return {\n        ...state,\n        msgError: action.payload,\n      };\n\n    case types.uiRemoveError:\n      return {\n        ...state,\n        msgError: null,\n      };\n\n    case types.uiStartLoading:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case types.uiFinishLoading:\n      return {\n        ...state,\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n  notes: [],\n  active: null,\n};\n\nexport const notesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.notesActive:\n      return {\n        ...state,\n        active: {\n          ...action.payload,\n        },\n      };\n\n    case types.notesLoad:\n      return {\n        ...state,\n        notes: [...action.payload],\n      };\n\n    case types.notesUpdate:\n      return {\n        ...state,\n        notes: state.notes.map((note) =>\n          note.id === action.payload.id ? action.payload.note : note\n        ),\n      };\n\n    case types.notesDelete:\n      return {\n        ...state,\n        active: null,\n        notes: state.notes.filter((note) => note.id !== action.payload),\n      };\n\n    case types.notesLogOutClean:\n      return {\n        ...state,\n        active: null,\n        notes: [],\n      };\n\n    default:\n      return state;\n  }\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport { authReducer } from \"../reducers/authReducer\";\nimport thunk from \"redux-thunk\"; // npm i redux-thunk middleware para acciones asincronas\nimport { uiReducer } from \"../reducers/uiReducer\";\nimport { notesReducer } from \"../reducers/notesReducer\";\n\n// esto habilita las funciones de devtools y nos permite usar middleware\nconst composeEnhancers =\n  (typeof window !== \"undefined\" &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\n// el objetivo es agregar los reducers en esta funcion como si fuera un obj\nconst reducers = combineReducers({\n  auth: authReducer,\n  ui: uiReducer,\n  notes: notesReducer,\n});\n\n// Este createStore solo recibe un reducer, no se pueden mas\n// por lo que se usa combineReducers\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunk))\n);\n// Este store se debe importar en el punto mas alto de la app\n// en esta caso es el journalapp\n\n// window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n// es para usar los redux devtools en chrome\n","import { types } from \"../types/types\";\n\n// siempre es importante tener el state definido\nexport const authReducer = (state = {}, action) => {\n  // siempre se maneja con un switch\n  switch (action.type) {\n    case types.login:\n      return {\n        uid: action.payload.uid,\n        name: action.payload.displayName,\n      };\n    case types.logout:\n      return {};\n\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport { AppRouter } from \"./routers/AppRouter\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store/store\";\n// npm install react-redux redux\nexport const JournalApp = () => {\n  // El provider es un hire order componet el cual va a tener la informacion del store\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/styles.scss\"; //npm install node-sass, para ver los estilos\nimport { JournalApp } from \"./JournalApp\";\n\nReactDOM.render(<JournalApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}